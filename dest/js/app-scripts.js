(function(e){e(document).ready(function(){const m=fvajax.ajaxurl,p=fvajax.nonce,g=e(".header_burger_icon"),w=e(".header_close_icon"),i=e("#header"),x=e("#search_form"),f=e(window).width()>1024;i.length&&e(document).scrollTop()>30&&i.addClass("_scrolled"),e(window).width()<1250&&e(window).scroll(function(){e(this).scrollTop()>30?i.addClass("_scrolled"):i.removeClass("_scrolled")}),i.length&&g.length&&w.length&&e(document).on("click",".header_burger_icon, .header_close_icon",function(){e(i).toggleClass("active-menu"),e("html").toggleClass("no-scroll")});const u=e("#articles_load");u.length&&u.on("click",function(s){const o=e(".search__input");let n=e(this).attr("data-page");n=parseInt(n)+1,o.length?r(e(o).val(),n):r("",n)}),x.length&&e(document).on("submit","#search_form",function(s){s.preventDefault();const o=e(this).find(".search__input");e("#articles_load").attr("data-page",1),r(e(o).val())});function r(s="",o=1){let n=new FormData;const l=e(".articles"),c=e(l).closest(".container"),a=e("#articles_load");n.append("action","load_posts"),n.append("nonce",p),n.append("search",s),n.append("page",o),jQuery.ajax({type:"POST",url:m,data:n,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){e(c).addClass("_spinner")},success:function(t){t.posts&&(t.append?e(l).append(t.posts):e(l).html(t.posts),t.count===0||t.end_posts?e(a).hide():e(a).show(),e(a).attr("data-page",o)),e(c).removeClass("_spinner")},error:function(t){console.log("error",t)}})}if(f){const s=e(".footer__menu"),o=4;s.length&&e(s).each(function(l,c){const a=e(c).find("ul.menu"),t=e(c).find(".menu_load_more");let d=!1;!a.length||!t.length||(e(a).each(function(h,C){const _=e(C).find("li");if(_.length&&_.length>o)return d=!0,!1}),d&&e(t).show())}),e(".menu_load_more").length&&e(document).on("click",".menu_load_more",function(){const l=e(this).closest(".footer__menu"),c=e(this).attr("data-title"),a=e(this).text();if(!l.length)return!1;const t=e(l).find("ul.menu");if(!t)return!1;e(t).each(function(d,h){e(h).toggleClass("full_content")}),e(this).attr("data-title",a).text(c)})}f||e(".footer__title").length&&e(document).on("click",".footer__title",function(){e(this).toggleClass("show_menu"),e(this).next().slideToggle()})})})(jQuery);
