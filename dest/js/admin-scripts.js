(function(e){e(document).ready(function(){const r=adminajax.ajaxurl,c=adminajax.nonce;e("#faq-ai-generate").length&&e(document).on("click","#faq-ai-generate",function(){t(e(this))});function t(n,i){if(!n)return;const s=e(n).data("id"),o=e(".faq_ai_error");jQuery.ajax({type:"POST",url:r,data:{action:"faq_by_ai",nonce:c,post_id:s,step:i},beforeSend:function(){i||e(n).addClass("_spinner")},success:function(a){if(a.step&&(e(o).empty(),t(n,a.step)),a.error){let f=a.message?a.message:"Something went wrong";e(o).html(f),e(n).removeClass("_spinner")}a.success&&(e(n).removeClass("_spinner"),e(o).empty(),location.reload())},error:function(a){console.log("error",a)}})}})})(jQuery);
