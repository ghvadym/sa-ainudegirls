(function(e){e(document).ready(function(){const r=adminajax.ajaxurl,c=adminajax.nonce;e("#faq-ai-generate").length&&e(document).on("click","#faq-ai-generate",function(){f(e(this))});function f(t,o){if(!t)return;const i=e(t).data("id"),s=e(t).closest(".metabox_ai__row").find(".faq_ai_error"),n=e(t).closest(".metabox_ai");jQuery.ajax({type:"POST",url:r,data:{action:"faq_by_ai",nonce:c,post_id:i,step:o},beforeSend:function(){o||e(n).addClass("_spinner")},success:function(a){if(a.step&&(e(s).empty(),f(t,a.step)),a.error){let d=a.message?a.message:"Something went wrong";e(s).html(d),e(n).removeClass("_spinner")}a.success&&(e(n).removeClass("_spinner"),e(s).empty(),location.reload())},error:function(a){console.log("error",a)}})}e("#desc-ai-generate").length&&e(document).on("click","#desc-ai-generate",function(){const t=e(this),o=e(t).closest(".metabox_ai"),i=e(t).data("id"),s=e(t).closest(".metabox_ai__row").find(".faq_ai_error");jQuery.ajax({type:"POST",url:r,data:{action:"desc_by_ai",nonce:c,post_id:i},beforeSend:function(){e(o).addClass("_spinner")},success:function(n){if(n.error){let a=n.message?n.message:"Something went wrong";e(s).html(a),e(o).removeClass("_spinner")}n.success&&(e(o).removeClass("_spinner"),e(s).empty(),location.reload())},error:function(n){console.log("error",n)}})})})})(jQuery);
